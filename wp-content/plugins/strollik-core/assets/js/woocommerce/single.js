"use strict";function _classCallCheck(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,a){for(var e=0;e<a.length;e++){var r=a[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(a,e,r){return e&&t(a.prototype,e),r&&t(a,r),a}}();!function(t){new(function(){function a(){_classCallCheck(this,a)}return _createClass(a,[{key:"productTogerther",value:function(){var a=t(".opal-frequently-bought");if(!(a.length<=0)){var e=a.find(".otf-total-price .woocommerce-Price-amount"),r=a.find(".otf_add_to_cart_button"),c=parseFloat(a.find("#otf-data_price").data("price"));a.data("currency"),a.data("thousand"),a.data("decimal"),a.data("price_decimals"),a.data("currency_pos");a.find("input[type=checkbox]").on("change",function(){var n=t(this).val();t(this).closest("li").toggleClass("uncheck");var o=parseFloat(t(this).closest("li").find(".product-price").data("price"));t(this).closest("li").hasClass("uncheck")?(a.find("#fbt-product-"+n).addClass("un-active"),c-=o):(a.find("#fbt-product-"+n).removeClass("un-active"),c+=o);var i="0";a.find(".product-list li").each(function(){t(this).hasClass("uncheck")||(i+=","+t(this).find("input[type=checkbox]").val())}),r.attr("value",i),e.html(this.formatNumber(c))}),a.on("click",".otf_add_to_cart_button.ajax_add_to_cart",function(){var a=t(this);a.addClass("loading");var e=window.location.href;t.ajax({url:ajaxurl,dataType:"json",method:"post",data:{action:"otf_woocommerce_fbt_add_to_cart",product_ids:a.attr("value")},error:function(){window.location=e},success:function(e){if("undefined"!=typeof wc_add_to_cart_params&&"yes"===wc_add_to_cart_params.cart_redirect_after_add)return void(window.location=wc_add_to_cart_params.cart_url);t(document.body).trigger("updated_wc_div"),t(document.body).on("wc_fragments_refreshed",function(){a.removeClass("loading")})}})})}}},{key:"formatNumber",value:function(t){var a=t;if(parseInt(price_decimals)>0){t=t.toFixed(price_decimals)+"";for(var e=t.split("."),r=e[0],c=e.length>1?decimal+e[1]:"",n=/(\d+)(\d{3})/;n.test(r);)r=r.replace(n,"$1"+thousand+"$2");a=r+c}switch(currency_pos){case"left":return currency+a;case"right":return a+currency;case"left_space":return currency+" "+a;case"right_space":return a+" "+currency}}}]),a}())}(jQuery);
//# sourceMappingURL=single.js.map
